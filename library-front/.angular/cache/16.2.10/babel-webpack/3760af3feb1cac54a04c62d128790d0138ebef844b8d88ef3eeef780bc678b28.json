{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ahmad/M7011E_project_grupp11/library-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ActivateUserComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"p\", 7);\n    i0.ɵɵtext(2, \" invalid code \");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ActivateUserComponent {\n  constructor(router) {\n    this.router = router;\n    this.codeError = false;\n    this.authService = inject(AuthService);\n  }\n  validateUser() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (typeof _this.validationCode !== 'undefined') {\n          const data = yield _this.authService.validateUser(Number(_this.validationCode));\n          _this.validationCode = 0;\n          _this.codeError = false;\n          if (data.userProfile.defaultRole == 'customer') _this.router.navigate(['home/']);else if (_this.authService.getRole() === 'manager') _this.router.navigate(['manager/home/']);else _this.router.navigate(['admin/home/']);\n        }\n      } catch (e) {\n        _this.codeError = true;\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function ActivateUserComponent_Factory(t) {\n    return new (t || ActivateUserComponent)(i0.ɵɵdirectiveInject(i1.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ActivateUserComponent,\n    selectors: [[\"app-activate-user\"]],\n    decls: 12,\n    vars: 2,\n    consts: [[1, \"auth-box\", \"has-text-centered\"], [1, \"field\"], [1, \"label\"], [\"size\", \"10\", \"type\", \"text\", \"maxlength\", \"6\", \"placeholder\", \"000000\", \"minlength\", \"6\", 1, \"input\", \"is-primary\", 3, \"ngModel\", \"ngModelChange\"], [1, \"control\"], [1, \"button\", \"is-success\", 3, \"click\"], [\"class\", \"field\", 4, \"ngIf\"], [1, \"has-text-danger\"]],\n    template: function ActivateUserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"section\", 0)(2, \"div\", 1)(3, \"label\", 2);\n        i0.ɵɵtext(4, \" Enter Validation Code \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\")(6, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function ActivateUserComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.validationCode = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 1)(8, \"p\", 4)(9, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function ActivateUserComponent_Template_button_click_9_listener() {\n          return ctx.validateUser();\n        });\n        i0.ɵɵtext(10, \" Validate \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(11, ActivateUserComponent_div_11_Template, 3, 0, \"div\", 6);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.validationCode);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.codeError);\n      }\n    },\n    dependencies: [i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.MinLengthValidator, i3.MaxLengthValidator, i3.NgModel],\n    styles: [\"body[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #ffffff;\\n    overflow: hidden;\\n    height: 600px;\\n}\\n\\n.auth-box[_ngcontent-%COMP%] {\\n    padding: 25px;\\n    border: 1px solid #ccc;\\n    background-color: #fff;\\n    width: 320px;\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n    letter-spacing: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWN0aXZhdGUtdXNlci9hY3RpdmF0ZS11c2VyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2Qix5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osdUNBQXVDO0FBQzNDOztBQUVBO0lBQ0ksb0JBQW9CO0FBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBoZWlnaHQ6IDYwMHB4O1xyXG59XHJcblxyXG4uYXV0aC1ib3gge1xyXG4gICAgcGFkZGluZzogMjVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gICAgd2lkdGg6IDMyMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG5pbnB1dCB7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMzBweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["inject","AuthService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ActivateUserComponent","constructor","router","codeError","authService","validateUser","_this","_asyncToGenerator","validationCode","data","Number","userProfile","defaultRole","navigate","getRole","e","_","ɵɵdirectiveInject","i1","Router","_2","selectors","decls","vars","consts","template","ActivateUserComponent_Template","rf","ctx","ɵɵlistener","ActivateUserComponent_Template_input_ngModelChange_6_listener","$event","ActivateUserComponent_Template_button_click_9_listener","ɵɵtemplate","ActivateUserComponent_div_11_Template","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\ahmad\\M7011E_project_grupp11\\library-front\\src\\app\\activate-user\\activate-user.component.ts","C:\\Users\\ahmad\\M7011E_project_grupp11\\library-front\\src\\app\\activate-user\\activate-user.component.html"],"sourcesContent":["import { Component, inject } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-activate-user',\n  templateUrl: './activate-user.component.html',\n  styleUrls: ['./activate-user.component.css']\n})\nexport class ActivateUserComponent {\n\n  constructor(private router: Router) {}\n  validationCode: number | undefined;\n  codeError:boolean = false;\n  private authService: AuthService = inject(AuthService);\n\n  async validateUser(){\n    try\n    {\n      if(typeof this.validationCode !== 'undefined')\n      {\n        const data = await this.authService.validateUser(Number(this.validationCode!))\n        this.validationCode = 0;\n        this.codeError = false;\n        if(data.userProfile.defaultRole == 'customer')\n          this.router.navigate(['home/']);\n        else if(this.authService.getRole() === 'manager')\n          this.router.navigate(['manager/home/']);\n        else\n          this.router.navigate(['admin/home/']);\n      }\n    }\n    catch(e) {\n      this.codeError = true;\n    }\n  }\n}\n","<body>\n    <section class = \"auth-box has-text-centered\">\n        <div class=\"field\">\n            <label class=\"label\">\n                Enter Validation Code\n            </label>\n            <div>\n                <input class=\"input is-primary\" size = \"10\" type=\"text\" maxlength=\"6\" placeholder=\"000000\" minlength=\"6\" [(ngModel)]=\"validationCode\">\n            </div>\n        </div>\n        <div class=\"field \">\n            <p class=\"control\">\n                <button class=\"button is-success\" (click) = validateUser()>\n                Validate\n                </button>\n            </p>\n        </div>\n        <div class=\"field\" *ngIf=\"codeError\">\n            <p class=\"has-text-danger\">\n                invalid code\n            </p>\n        </div>\n    </section>    \n</body>\n"],"mappings":";AAAA,SAAoBA,MAAM,QAAQ,eAAe;AACjD,SAASC,WAAW,QAAQ,0BAA0B;;;;;;;ICgB9CC,EAAA,CAAAC,cAAA,aAAqC;IAE7BD,EAAA,CAAAE,MAAA,qBACJ;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;ADXhB,OAAM,MAAOC,qBAAqB;EAEhCC,YAAoBC,MAAc;IAAd,KAAAA,MAAM,GAANA,MAAM;IAE1B,KAAAC,SAAS,GAAW,KAAK;IACjB,KAAAC,WAAW,GAAgBV,MAAM,CAACC,WAAW,CAAC;EAHjB;EAK/BU,YAAYA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAChB,IACA;QACE,IAAG,OAAOD,KAAI,CAACE,cAAc,KAAK,WAAW,EAC7C;UACE,MAAMC,IAAI,SAASH,KAAI,CAACF,WAAW,CAACC,YAAY,CAACK,MAAM,CAACJ,KAAI,CAACE,cAAe,CAAC,CAAC;UAC9EF,KAAI,CAACE,cAAc,GAAG,CAAC;UACvBF,KAAI,CAACH,SAAS,GAAG,KAAK;UACtB,IAAGM,IAAI,CAACE,WAAW,CAACC,WAAW,IAAI,UAAU,EAC3CN,KAAI,CAACJ,MAAM,CAACW,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,KAC7B,IAAGP,KAAI,CAACF,WAAW,CAACU,OAAO,EAAE,KAAK,SAAS,EAC9CR,KAAI,CAACJ,MAAM,CAACW,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,KAExCP,KAAI,CAACJ,MAAM,CAACW,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;;OAE1C,CACD,OAAME,CAAC,EAAE;QACPT,KAAI,CAACH,SAAS,GAAG,IAAI;;IACtB;EACH;EAAC,QAAAa,CAAA,G;qBA1BUhB,qBAAqB,EAAAJ,EAAA,CAAAqB,iBAAA,CAAAC,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAArBpB,qBAAqB;IAAAqB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCTlC/B,EAAA,CAAAC,cAAA,WAAM;QAIUD,EAAA,CAAAE,MAAA,8BACJ;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QACRH,EAAA,CAAAC,cAAA,UAAK;QACwGD,EAAA,CAAAiC,UAAA,2BAAAC,8DAAAC,MAAA;UAAA,OAAAH,GAAA,CAAApB,cAAA,GAAAuB,MAAA;QAAA,EAA4B;QAArInC,EAAA,CAAAG,YAAA,EAAsI;QAG9IH,EAAA,CAAAC,cAAA,aAAoB;QAEsBD,EAAA,CAAAiC,UAAA,mBAAAG,uDAAA;UAAA,OAAUJ,GAAA,CAAAvB,YAAA,EAAc;QAAA;QAC1DT,EAAA,CAAAE,MAAA,kBACA;QAAAF,EAAA,CAAAG,YAAA,EAAS;QAGjBH,EAAA,CAAAqC,UAAA,KAAAC,qCAAA,iBAIM;QACVtC,EAAA,CAAAG,YAAA,EAAU;;;QAf2GH,EAAA,CAAAuC,SAAA,GAA4B;QAA5BvC,EAAA,CAAAwC,UAAA,YAAAR,GAAA,CAAApB,cAAA,CAA4B;QAUzHZ,EAAA,CAAAuC,SAAA,GAAe;QAAfvC,EAAA,CAAAwC,UAAA,SAAAR,GAAA,CAAAzB,SAAA,CAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}