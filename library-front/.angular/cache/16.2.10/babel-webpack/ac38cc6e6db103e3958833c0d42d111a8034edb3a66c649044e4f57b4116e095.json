{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ahmad/M7011E_project_grupp11/library-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nconst _c1 = function () {\n  return [\"/home\"];\n};\nexport class ProfileComponent {\n  constructor() {\n    this.authService = inject(AuthService);\n    this.profile = {\n      userId: 0,\n      email: '',\n      phoneNumber: '',\n      defaultLang: '',\n      defaultRole: '',\n      name: '',\n      imageUrl: ''\n    };\n  }\n  ngOnInit() {\n    this.getProfile();\n  }\n  getProfile() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this.profile = yield _this.authService.getProfile();\n      } catch (e) {\n        console.log('error fetching profile');\n      }\n    })();\n  }\n  updateProfile() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this2.authService.updateProfile(_this2.profile.name);\n      } catch (e) {\n        console.log('error updating profile');\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function ProfileComponent_Factory(t) {\n    return new (t || ProfileComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileComponent,\n    selectors: [[\"app-profile\"]],\n    decls: 26,\n    vars: 5,\n    consts: [[1, \"section\"], [1, \"container\"], [1, \"title\"], [\"id\", \"updateProfileForm\"], [1, \"field\"], [1, \"label\"], [1, \"control\"], [\"type\", \"text\", \"placeholder\", \"Enter your user name\", 1, \"input\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"file\", \"is-info\"], [1, \"file-label\"], [\"type\", \"file\", \"name\", \"profileImage\", 1, \"file-input\"], [1, \"file-cta\"], [1, \"file-icon\"], [1, \"fas\", \"fa-upload\"], [\"type\", \"submit\", 1, \"button\", \"is-primary\", 3, \"routerLink\", \"click\"]],\n    template: function ProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Update Profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 3)(5, \"div\", 4)(6, \"label\", 5);\n        i0.ɵɵtext(7, \"User Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.profile.name = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 5);\n        i0.ɵɵtext(12, \"Profile Image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 6)(14, \"div\", 8)(15, \"label\", 9);\n        i0.ɵɵelement(16, \"input\", 10);\n        i0.ɵɵelementStart(17, \"span\", 11)(18, \"span\", 12);\n        i0.ɵɵelement(19, \"i\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"span\", 9);\n        i0.ɵɵtext(21, \" Choose a file\\u2026 \");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(22, \"div\", 4)(23, \"div\", 6)(24, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_24_listener() {\n          return ctx.updateProfile();\n        });\n        i0.ɵɵtext(25, \"Update Profile\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.profile.name)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n      }\n    },\n    dependencies: [i1.RouterLink, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["inject","AuthService","ProfileComponent","constructor","authService","profile","userId","email","phoneNumber","defaultLang","defaultRole","name","imageUrl","ngOnInit","getProfile","_this","_asyncToGenerator","e","console","log","updateProfile","_this2","_","_2","selectors","decls","vars","consts","template","ProfileComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProfileComponent_Template_input_ngModelChange_9_listener","$event","ɵɵelement","ProfileComponent_Template_button_click_24_listener","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0","_c1"],"sources":["C:\\Users\\ahmad\\M7011E_project_grupp11\\library-front\\src\\app\\profile\\profile.component.ts","C:\\Users\\ahmad\\M7011E_project_grupp11\\library-front\\src\\app\\profile\\profile.component.html"],"sourcesContent":["import { Component, inject } from '@angular/core';\nimport { UserProfile } from '../interfaces/entities';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html'\n})\nexport class ProfileComponent {\n  \n  private authService: AuthService = inject(AuthService);\n  profile: UserProfile = {\n    userId: 0,\n    email: '',\n    phoneNumber: '',\n    defaultLang: '',\n    defaultRole: '',\n    name: '',\n    imageUrl: ''\n  }\n\n  constructor() {\n    \n  }\n\n  ngOnInit() {\n    this.getProfile();\n  }\n\n  async getProfile() {\n    try\n    {\n      this.profile = await this.authService.getProfile(); \n    }\n    catch(e) {\n      console.log('error fetching profile');\n    }\n  }\n\n  async updateProfile() {\n    try\n    {\n      await this.authService.updateProfile(this.profile.name); \n    }\n    catch(e) {\n      console.log('error updating profile');\n    }\n  }\n}\n","<section class=\"section\">\n    <div class=\"container\">\n        <h1 class=\"title\">Update Profile</h1>\n        <form id=\"updateProfileForm\">\n            <!-- User Name Field -->\n            <div class=\"field\">\n                <label class=\"label\">User Name</label>\n                <div class=\"control\">\n                    <input class=\"input\" type=\"text\" placeholder=\"Enter your user name\" [(ngModel)]=\"profile.name\" [ngModelOptions]=\"{standalone: true}\">\n                </div>\n            </div>\n\n            <!-- Image Upload Field -->\n            <div class=\"field\">\n                <label class=\"label\">Profile Image</label>\n                <div class=\"control\">\n                    <div class=\"file is-info\">\n                        <label class=\"file-label\">\n                            <input class=\"file-input\" type=\"file\" name=\"profileImage\">\n                            <span class=\"file-cta\">\n                                <span class=\"file-icon\">\n                                    <i class=\"fas fa-upload\"></i>\n                                </span>\n                                <span class=\"file-label\">\n                                    Choose a file…\n                                </span>\n                            </span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Submit Button -->\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button class=\"button is-primary\" type=\"submit\" (click)=\"updateProfile()\" [routerLink]=\"['/home']\">Update Profile</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</section>"],"mappings":";AAAA,SAAoBA,MAAM,QAAQ,eAAe;AAEjD,SAASC,WAAW,QAAQ,0BAA0B;;;;;;;;;;;;AAMtD,OAAM,MAAOC,gBAAgB;EAa3BC,YAAA;IAXQ,KAAAC,WAAW,GAAgBJ,MAAM,CAACC,WAAW,CAAC;IACtD,KAAAI,OAAO,GAAgB;MACrBC,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE,EAAE;MACTC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE;KACX;EAID;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEMA,UAAUA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACd,IACA;QACED,KAAI,CAACV,OAAO,SAASU,KAAI,CAACX,WAAW,CAACU,UAAU,EAAE;OACnD,CACD,OAAMG,CAAC,EAAE;QACPC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;;IACtC;EACH;EAEMC,aAAaA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAL,iBAAA;MACjB,IACA;QACE,MAAMK,MAAI,CAACjB,WAAW,CAACgB,aAAa,CAACC,MAAI,CAAChB,OAAO,CAACM,IAAI,CAAC;OACxD,CACD,OAAMM,CAAC,EAAE;QACPC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;;IACtC;EACH;EAAC,QAAAG,CAAA,G;qBAvCUpB,gBAAgB;EAAA;EAAA,QAAAqB,EAAA,G;UAAhBrB,gBAAgB;IAAAsB,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCR7BE,EAAA,CAAAC,cAAA,iBAAyB;QAECD,EAAA,CAAAE,MAAA,qBAAc;QAAAF,EAAA,CAAAG,YAAA,EAAK;QACrCH,EAAA,CAAAC,cAAA,cAA6B;QAGAD,EAAA,CAAAE,MAAA,gBAAS;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QACtCH,EAAA,CAAAC,cAAA,aAAqB;QACmDD,EAAA,CAAAI,UAAA,2BAAAC,yDAAAC,MAAA;UAAA,OAAAP,GAAA,CAAA1B,OAAA,CAAAM,IAAA,GAAA2B,MAAA;QAAA,EAA0B;QAA9FN,EAAA,CAAAG,YAAA,EAAqI;QAK7IH,EAAA,CAAAC,cAAA,cAAmB;QACMD,EAAA,CAAAE,MAAA,qBAAa;QAAAF,EAAA,CAAAG,YAAA,EAAQ;QAC1CH,EAAA,CAAAC,cAAA,cAAqB;QAGTD,EAAA,CAAAO,SAAA,iBAA0D;QAC1DP,EAAA,CAAAC,cAAA,gBAAuB;QAEfD,EAAA,CAAAO,SAAA,aAA6B;QACjCP,EAAA,CAAAG,YAAA,EAAO;QACPH,EAAA,CAAAC,cAAA,eAAyB;QACrBD,EAAA,CAAAE,MAAA,6BACJ;QAAAF,EAAA,CAAAG,YAAA,EAAO;QAQ3BH,EAAA,CAAAC,cAAA,cAAmB;QAEqCD,EAAA,CAAAI,UAAA,mBAAAI,mDAAA;UAAA,OAAST,GAAA,CAAAX,aAAA,EAAe;QAAA,EAAC;QAA0BY,EAAA,CAAAE,MAAA,sBAAc;QAAAF,EAAA,CAAAG,YAAA,EAAS;;;QA3BtDH,EAAA,CAAAS,SAAA,GAA0B;QAA1BT,EAAA,CAAAU,UAAA,YAAAX,GAAA,CAAA1B,OAAA,CAAAM,IAAA,CAA0B,mBAAAqB,EAAA,CAAAW,eAAA,IAAAC,GAAA;QA2BpBZ,EAAA,CAAAS,SAAA,IAAwB;QAAxBT,EAAA,CAAAU,UAAA,eAAAV,EAAA,CAAAW,eAAA,IAAAE,GAAA,EAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}